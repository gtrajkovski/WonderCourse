---
phase: 01-foundation-infrastructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/config.py
  - .env.example
  - .gitignore
  - requirements.txt
  - pytest.ini
  - src/__init__.py
autonomous: true

must_haves:
  truths:
    - "Config.ANTHROPIC_API_KEY reads from .env file"
    - "Config.MODEL defaults to claude-sonnet-4-20250514 if not set"
    - "Config.PROJECTS_DIR points to projects/ directory"
    - "Config.ensure_dirs() creates projects/ directory"
    - "requirements.txt lists Flask, anthropic, python-dotenv, pytest"
    - ".gitignore excludes .env, __pycache__, projects/"
  artifacts:
    - path: "src/config.py"
      provides: "Configuration constants and ensure_dirs"
      contains: "class Config"
    - path: "src/__init__.py"
      provides: "Package marker"
    - path: ".env.example"
      provides: "Template for environment variables"
      contains: "ANTHROPIC_API_KEY"
    - path: ".gitignore"
      provides: "Git exclusion rules"
    - path: "requirements.txt"
      provides: "Python dependencies"
      contains: "Flask"
    - path: "pytest.ini"
      provides: "Pytest configuration"
  key_links: []
---

<objective>
Set up project configuration system, dependency management, and repository boilerplate for Course Builder Studio.

Purpose: Every subsequent plan needs Config constants, installed dependencies, and proper gitignore rules. This is the foundation that unblocks all other work.
Output: src/config.py, requirements.txt, .env.example, .gitignore, pytest.ini, src/__init__.py
</objective>

<execution_context>
@C:\Users\gpt30\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\gpt30\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Reference pattern from ScreenCast Studio:
@C:\ScreencastHelper\src\config.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create project boilerplate files</name>
  <files>
    requirements.txt
    .env.example
    .gitignore
    pytest.ini
    src/__init__.py
    src/core/__init__.py
    src/ai/__init__.py
    src/utils/__init__.py
  </files>
  <action>
    Create the following files:

    **requirements.txt:**
    ```
    # Core
    Flask>=3.1.0
    anthropic>=0.77.0
    python-dotenv>=1.0.1

    # Dev/Testing
    pytest>=9.0.0
    pytest-flask>=1.3.0
    pytest-mock>=3.15.0
    ```

    **.env.example:**
    ```
    ANTHROPIC_API_KEY=sk-ant-your-key-here
    MODEL=claude-sonnet-4-20250514
    PORT=5003
    ```

    **.gitignore:**
    Standard Python gitignore plus:
    - `.env` (not .env.example)
    - `__pycache__/`, `*.pyc`
    - `projects/` (runtime data)
    - `.pytest_cache/`
    - `*.egg-info/`
    - `.planning/` should NOT be gitignored (it's tracked)

    **pytest.ini:**
    ```ini
    [pytest]
    testpaths = tests
    python_files = test_*.py
    python_functions = test_*
    ```

    **Package __init__.py files:** Create empty `src/__init__.py`, `src/core/__init__.py`, `src/ai/__init__.py`, `src/utils/__init__.py` to establish Python package structure.
  </action>
  <verify>
    - All files exist on disk
    - `py -3 -c "import src; import src.core; import src.ai; import src.utils"` succeeds
  </verify>
  <done>Project has requirements.txt, .env.example, .gitignore, pytest.ini, and all package __init__.py files</done>
</task>

<task type="auto">
  <name>Task 2: Create Config class with environment variable loading</name>
  <files>
    src/config.py
    tests/__init__.py
    tests/test_config.py
  </files>
  <action>
    Create `src/config.py` following ScreenCast Studio's pattern (C:\ScreencastHelper\src\config.py):

    ```python
    import os
    from pathlib import Path
    from dotenv import load_dotenv

    load_dotenv()

    class Config:
        # API
        ANTHROPIC_API_KEY = os.getenv("ANTHROPIC_API_KEY")
        MODEL = os.getenv("MODEL", "claude-sonnet-4-20250514")
        MAX_TOKENS = 4096

        # Paths
        PROJECTS_DIR = Path("projects")

        # Course defaults
        COURSE_MIN_DURATION_MINUTES = 30
        COURSE_MAX_DURATION_MINUTES = 180
        WORDS_PER_MINUTE = 150
        MAX_READING_WORDS = 1200
        MAX_TEXTBOOK_WORDS_PER_OUTCOME = 3000

        # Flask
        PORT = int(os.getenv("PORT", "5003"))
        DEBUG = os.getenv("FLASK_DEBUG", "true").lower() == "true"

        @classmethod
        def ensure_dirs(cls):
            cls.PROJECTS_DIR.mkdir(parents=True, exist_ok=True)
            return cls.PROJECTS_DIR
    ```

    Create `tests/__init__.py` (empty).

    Create `tests/test_config.py` with tests:
    - Test Config class attributes exist (ANTHROPIC_API_KEY, MODEL, MAX_TOKENS, PROJECTS_DIR, PORT)
    - Test MODEL default value is "claude-sonnet-4-20250514"
    - Test MAX_TOKENS is 4096
    - Test PROJECTS_DIR is Path("projects")
    - Test PORT default is 5003
    - Test ensure_dirs() creates projects directory (use tmp_path, monkeypatch Config.PROJECTS_DIR)
    - Test course constants (MIN/MAX duration, WORDS_PER_MINUTE, MAX_READING_WORDS)
  </action>
  <verify>
    Run `py -3 -m pytest tests/test_config.py -v` and all tests pass.
  </verify>
  <done>Config class loads environment variables with correct defaults, ensure_dirs creates projects directory, all tests pass</done>
</task>

</tasks>

<verification>
1. `py -3 -m pytest tests/test_config.py -v` -- all tests pass
2. `py -3 -c "from src.config import Config; print(Config.MODEL, Config.PORT)"` prints defaults
3. All boilerplate files exist: requirements.txt, .env.example, .gitignore, pytest.ini
4. Package imports work: `py -3 -c "import src.core; import src.ai; import src.utils"`
</verification>

<success_criteria>
- Config class loads ANTHROPIC_API_KEY from .env
- Config.MODEL defaults to claude-sonnet-4-20250514
- Config.ensure_dirs() creates projects/ directory
- requirements.txt includes Flask, anthropic, python-dotenv, pytest
- .gitignore excludes .env, __pycache__, projects/
- All tests pass
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-infrastructure/01-01-SUMMARY.md`
</output>
