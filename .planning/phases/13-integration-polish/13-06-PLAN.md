---
phase: 13-integration-polish
plan: 06
type: execute
wave: 2
depends_on: ["13-02", "13-03"]
files_modified:
  - templates/planner.html
  - templates/builder.html
  - templates/studio.html
  - templates/publish.html
  - static/js/pages/planner.js
  - static/js/pages/builder.js
  - static/js/pages/studio.js
autonomous: true

must_haves:
  truths:
    - "Tooltips appear on all major interactive elements"
    - "Help buttons on complex pages open contextual help panels"
    - "Elapsed time displays during long operations"
    - "Progress indicators show during AI generation"
  artifacts:
    - path: "templates/planner.html"
      provides: "Planner page with help integration"
      contains: "help-btn"
    - path: "templates/studio.html"
      provides: "Studio page with progress indicators"
      contains: "elapsed-time"
  key_links:
    - from: "templates/*.html"
      to: "static/js/components/help.js"
      via: "HelpManager initialization"
      pattern: "window.help"
---

<objective>
Integrate help system and progress indicators into all major pages.

Purpose: Ensure users have contextual help available and clear feedback during long operations.
Output: Help buttons, tooltips, and progress indicators on planner, builder, studio, and publish pages.
</objective>

<execution_context>
@C:\Users\gpt30\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\gpt30\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-integration-polish/13-CONTEXT.md
@.planning/phases/13-integration-polish/13-RESEARCH.md
@templates/planner.html
@templates/studio.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add help integration to planner and builder pages</name>
  <files>templates/planner.html, templates/builder.html, static/js/pages/planner.js, static/js/pages/builder.js</files>
  <action>
Update templates/planner.html:

1. Add help buttons next to complex sections:
   - Next to "Learning Outcomes" header: help button linking to glossary term
   - Next to "Bloom's Level" selector: explain the taxonomy levels
   - Next to "Blueprint Generator": explain what AI will do

2. Add tooltips to icons:
   - Edit icon: title="Edit this outcome"
   - Delete icon: title="Remove this outcome"
   - Drag handle: title="Drag to reorder"

3. Include help panel partial for detailed explanations:
   - WWHAA explanation panel
   - Bloom's taxonomy reference panel

Update static/js/pages/planner.js:
- Initialize HelpManager on page load
- Wire up help button clicks to showPanel()

Update templates/builder.html:

1. Add help buttons:
   - Next to "Course Structure": explain module/lesson/activity hierarchy
   - Next to drag-drop area: explain reordering
   - Next to activity type selector: link to content type glossary

2. Add tooltips:
   - Expand/collapse icons
   - Add module/lesson/activity buttons
   - Content type icons

Update static/js/pages/builder.js:
- Initialize HelpManager
- Add keyboard shortcut F1 to open contextual help
  </action>
  <verify>Open planner, hover over icons to see tooltips, click help buttons to see panels</verify>
  <done>Planner and builder have comprehensive help integration</done>
</task>

<task type="auto">
  <name>Task 2: Add progress indicators to studio page</name>
  <files>templates/studio.html, static/js/pages/studio.js</files>
  <action>
Update templates/studio.html:

1. Add progress indicator area:
   ```html
   <div id="generation-progress" class="hidden">
     <div class="progress-stage">
       <span class="stage-icon">...</span>
       <span class="stage-text">Generating content...</span>
     </div>
     <div class="elapsed-time">
       Elapsed: <span id="elapsed-seconds">0</span>s
     </div>
     <button id="cancel-generation" class="btn-secondary">Cancel</button>
   </div>
   ```

2. Add stage indicator for non-streaming generation:
   - Stage 1: "Analyzing context..."
   - Stage 2: "Generating content..."
   - Stage 3: "Formatting output..."

3. Add help buttons:
   - Next to content type selector
   - Next to AI toolbar
   - Next to regenerate button

4. Add tooltips:
   - Generate button: "Generate new content with AI"
   - Regenerate button: "Regenerate with different parameters"
   - AI toolbar icons: action descriptions

Update static/js/pages/studio.js:

1. Add ElapsedTimer class:
   - start() - begin counting, update DOM every second
   - stop() - stop counting
   - reset() - reset to 0

2. Modify generateContent():
   - Show #generation-progress
   - Start elapsed timer
   - Update stage text as generation progresses
   - Hide on complete or cancel

3. Add cancel handler:
   - AbortController to cancel fetch
   - Show "Generation cancelled" toast
   - Reset UI state

4. For streaming content, show content as it arrives (already implemented in Phase 12).
   - Hide progress indicator during streaming (content itself is progress)
  </action>
  <verify>Start content generation, observe elapsed timer and stage indicators</verify>
  <done>Studio shows progress during generation, elapsed time visible</done>
</task>

<task type="auto">
  <name>Task 3: Add help and progress to publish page</name>
  <files>templates/publish.html, static/js/pages/publish.js</files>
  <action>
Update templates/publish.html:

1. Add help buttons next to validators:
   - "Structure Validation": explain Coursera requirements
   - "Outcome Coverage": explain alignment scoring
   - "Bloom's Distribution": explain cognitive balance
   - "Distractor Quality": explain quiz quality checks

2. Add tooltips to export format cards:
   - Instructor Package: "ZIP with syllabus, lesson plans, rubrics, quizzes"
   - LMS Manifest: "JSON structure for LMS import"
   - DOCX Textbook: "Word document with chapters and glossary"
   - SCORM Package: "SCORM 1.2 compliant package for LMS"

3. Add export progress indicator:
   ```html
   <div id="export-progress" class="hidden">
     <div class="progress-bar">
       <div class="progress-fill" style="width: 0%"></div>
     </div>
     <span class="progress-text">Preparing export...</span>
   </div>
   ```

4. Add glossary terms for validation concepts:
   - Link "SCORM" to glossary
   - Link "Bloom's" to glossary
   - Link "Rubric" to glossary

Update static/js/pages/publish.js:

1. Add export progress handling:
   - Show progress bar on export start
   - Update percentage if server sends progress events
   - Hide on complete

2. For long exports (textbook, SCORM), show estimated time remaining based on course size.

3. Add validation result help:
   - Click on validation item to see detailed explanation
   - Link to help panel with fix suggestions
  </action>
  <verify>Open publish page, hover over export cards for tooltips, click help buttons</verify>
  <done>Publish page has comprehensive help and progress indicators</done>
</task>

</tasks>

<verification>
- All major pages have help buttons
- Tooltips appear on hover for interactive elements
- Progress indicators show during AI generation
- Elapsed time displays and updates
- Cancel button works during generation
- F1 opens contextual help
</verification>

<success_criteria>
- Help buttons on planner, builder, studio, publish
- Tooltips on all icons and buttons
- Progress indicators during long operations
- Elapsed time visible during AI generation
- Cancel functionality works
- Glossary terms linked throughout UI
</success_criteria>

<output>
After completion, create `.planning/phases/13-integration-polish/13-06-SUMMARY.md`
</output>
