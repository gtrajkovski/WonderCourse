---
phase: 13-integration-polish
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - static/js/onboarding.js
  - static/css/components/help.css
  - templates/partials/help-panel.html
  - static/js/components/help.js
  - templates/base.html
  - static/data/glossary.json
autonomous: true

must_haves:
  truths:
    - "First-time users see interactive onboarding tour"
    - "Tour can be replayed from menu"
    - "Info buttons show contextual help panels"
    - "Tooltips appear on hover for icons"
    - "Glossary explains instructional design terms"
  artifacts:
    - path: "static/js/onboarding.js"
      provides: "Intro.js tour configuration"
      contains: "introJs"
    - path: "static/css/components/help.css"
      provides: "Help panel and tooltip styles"
      contains: ".help-panel"
    - path: "static/data/glossary.json"
      provides: "Instructional design term definitions"
      contains: "WWHAA"
  key_links:
    - from: "templates/base.html"
      to: "static/js/onboarding.js"
      via: "script src"
      pattern: "onboarding.js"
---

<objective>
Implement in-app help system with onboarding tour, contextual help panels, tooltips, and educational glossary.

Purpose: Help new users understand the application and instructional design concepts so they can effectively create courses.
Output: Intro.js onboarding, help panels, tooltips, and comprehensive glossary of terms.
</objective>

<execution_context>
@C:\Users\gpt30\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\gpt30\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-integration-polish/13-CONTEXT.md
@.planning/phases/13-integration-polish/13-RESEARCH.md
@templates/base.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement onboarding tour with Intro.js</name>
  <files>static/js/onboarding.js, templates/base.html, static/css/components/help.css</files>
  <action>
Add Intro.js via CDN to templates/base.html (before closing body tag):
- https://unpkg.com/intro.js@7.2.0/minified/intro.min.js
- https://unpkg.com/intro.js@7.2.0/minified/introjs.min.css

Create static/js/onboarding.js with:

1. tourSteps array for dashboard page:
   - Step 1: Welcome message (no element, centered intro)
   - Step 2: #create-course-btn - "Create your first course here"
   - Step 3: .sidebar-nav - "Navigate between pages using this menu"
   - Step 4: #help-menu-btn - "Access help and replay this tour anytime"

2. plannerSteps for planner page:
   - Step 1: #outcomes-tab - "Define learning outcomes first"
   - Step 2: #blueprint-tab - "Generate course structure with AI"
   - Step 3: .bloom-selector - "Set cognitive level using Bloom's taxonomy"

3. studioSteps for studio page:
   - Step 1: .activity-list - "Select activities to edit"
   - Step 2: .content-preview - "Preview and edit generated content"
   - Step 3: #generate-btn - "Generate content with AI"
   - Step 4: .ai-toolbar - "Use AI to improve selected text"

4. initOnboarding() function:
   - Check localStorage for onboarding_completed
   - If not completed, start dashboard tour after 500ms delay
   - Set showProgress: true, showBullets: false
   - On complete: set localStorage onboarding_completed = true
   - On exit: set localStorage onboarding_skipped = true

5. Export startTour(pageName) for manual trigger from menu

Add "Replay Tour" button to user menu dropdown in base.html.

Create help.css with:
- Override Intro.js colors to match dark theme
- .introjs-tooltip background: #16213e
- .introjs-helperLayer background: rgba(26, 26, 46, 0.9)
- .introjs-button colors match app accent (#4da6ff)
  </action>
  <verify>Run app, login as new user, observe tour starts automatically on dashboard</verify>
  <done>Onboarding tour works for new users, can be replayed from menu</done>
</task>

<task type="auto">
  <name>Task 2: Create contextual help panels and tooltips</name>
  <files>static/css/components/help.css, templates/partials/help-panel.html, static/js/components/help.js</files>
  <action>
Add to static/css/components/help.css:

1. .help-btn (info button with ? icon):
   - 20px circle, border: 1px solid var(--border-color)
   - Cursor: help
   - Position: relative (for tooltip)

2. .tooltip:
   - Position: absolute, max-width: 300px
   - Background: #16213e, padding: 8px 12px
   - Opacity: 0 by default
   - .help-btn:hover .tooltip { opacity: 1 }
   - Transition: opacity 0.2s

3. .help-panel:
   - Position: fixed right, width: 320px
   - Background: var(--card-bg)
   - Transform: translateX(100%) when closed
   - Transition: transform 0.3s
   - &.open { transform: translateX(0) }

4. .help-panel-header, .help-panel-content

Create templates/partials/help-panel.html with Jinja2 macro:
{{ help_panel(id, title, content) }}
- Collapsible side panel structure
- Close button (X)
- Title bar
- Scrollable content area

Create static/js/components/help.js with HelpManager class:

1. showPanel(panelId) - opens specific help panel
2. hidePanel() - closes current panel
3. togglePanel(panelId) - toggle visibility
4. initTooltips() - add hover listeners to .help-btn elements
5. loadContent(topic) - fetches help content from /api/help/{topic} or static JSON

Export window.help = new HelpManager()
  </action>
  <verify>Add a test help button to a page, verify tooltip shows on hover</verify>
  <done>Help panels and tooltips styled and functional</done>
</task>

<task type="auto">
  <name>Task 3: Create instructional design glossary</name>
  <files>static/data/glossary.json, templates/help/glossary.html, static/js/components/help.js, src/api/help.py</files>
  <action>
Create static/data/glossary.json with comprehensive terms:

```json
{
  "terms": [
    {
      "term": "WWHAA",
      "definition": "Instructional design framework: Why (motivation), What (objectives), How (content), Apply (practice), Assess (evaluation). Ensures each lesson covers complete learning cycle.",
      "related": ["Hook", "Learning Outcome", "Assessment"],
      "examples": ["Video scripts follow WWHAA with Hook, Objective, Content, IVQ, Summary, CTA sections"]
    },
    {
      "term": "Bloom's Taxonomy",
      "definition": "Hierarchy of cognitive skills from Remember (lowest) through Understand, Apply, Analyze, Evaluate, to Create (highest). Used to classify learning outcomes by complexity.",
      "related": ["Learning Outcome", "Assessment"],
      "examples": ["'Explain the concept' targets Understand level; 'Design a solution' targets Create level"]
    },
    {
      "term": "Learning Outcome",
      "definition": "Statement describing what learners will be able to do after completing instruction. Uses ABCD format: Audience, Behavior, Condition, Degree.",
      "related": ["Bloom's Taxonomy", "WWHAA", "Assessment"],
      "examples": ["Given a dataset (C), learners will be able to (A) create visualizations (B) using Python with 80% accuracy (D)"]
    },
    // Add 15+ more terms: SCORM, IVQ, Rubric, Formative Assessment, Summative Assessment,
    // Distractor, Scaffolding, Cognitive Load, etc.
  ]
}
```

Create templates/help/glossary.html:
- Searchable term list
- Terms grouped by first letter (A, B, C...)
- Click term to expand definition
- Related terms are clickable links
- Examples section with code formatting

Create src/api/help.py Flask Blueprint:
- GET /api/help/glossary - returns all terms
- GET /api/help/glossary/{term} - returns specific term
- GET /api/help/search?q=query - search terms and definitions

Update static/js/components/help.js:
- Add searchGlossary(query) method
- Add renderGlossaryPanel() for sidebar display
- Link glossary terms in help content to glossary entries
  </action>
  <verify>GET /api/help/glossary returns JSON with terms, search "bloom" returns relevant entry</verify>
  <done>Glossary contains 15+ instructional design terms, searchable via API and UI</done>
</task>

</tasks>

<verification>
- Tour auto-starts for new users on first login
- Tour can be replayed via menu option
- Tooltips appear on hover over help buttons
- Help panels slide in from right
- Glossary searchable and terms link to each other
- All help content matches dark theme
</verification>

<success_criteria>
- Interactive onboarding with Intro.js
- Tooltips on all major UI elements
- Collapsible help panels on complex pages
- Comprehensive glossary with 15+ terms
- Glossary searchable via API
- Help system matches dark theme aesthetic
</success_criteria>

<output>
After completion, create `.planning/phases/13-integration-polish/13-03-SUMMARY.md`
</output>
